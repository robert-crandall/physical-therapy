<% content_for :title, "Exercises" %>

<h1>Exercises</h1>

<%= link_to "New exercise", new_exercise_path %> |
<%= link_to "New category", new_category_path %>


<div id="exercises" class="container mt-4">
  <% @categories.each do |category| %>
    <div class="category-section mb-4">
      <h2 class="border-bottom pb-2 d-flex justify-content-between align-items-center">
        <%= category.name %>
        <%= link_to edit_category_path(category), class: "btn btn-sm btn-outline-secondary" do %>
          <i class="bi bi-pencil"></i>
        <% end %>
      </h2>
      
      <% if category.enabled? %>
        <p class="text-muted">
          Picks <%= category.quantity %> exercises
        </p>
      <% else %>
        <p class="text-danger">
          Disabled
        </p>
      <% end %>
      
      <div class="row">
        <% category.exercises.each do |exercise| %>
          <div class="col-md-4 mb-3">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title"><%= exercise.name %></h5>
                <%= link_to edit_exercise_path(exercise), class: "btn btn-sm btn-primary" do %>
                  <i class="bi bi-pencil"></i> Edit
                <% end %>
              </div>
            </div>
          </div>
        <% end %>
        
        <% if category.exercises.empty? %>
          <div class="col">
            <p class="text-muted">No exercises in this category</p>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
</div>
